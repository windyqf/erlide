<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head><title>e:/Server/test/huangjian/test/oraclejdbcmonitor_SUITE.erl</title></head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
    1:-<b>module</b>(oraclejdbcmonitor_SUITE).
    2:
    3:<i>%% Note: This directive should only be used in test suites.</i>
    4:-<b>compile</b>(export_all).
    5:
    6:-<b>include</b>("ct.hrl").
    7:
    8:<i>%%--------------------------------------------------------------------</i>
    9:<i>%% Test server callback functions</i>
<a name="10"></a>   10:<i>%%--------------------------------------------------------------------</i>
   11:
   12:<i>%%--------------------------------------------------------------------</i>
   13:<i>%% Function: suite() -&gt; DefaultData</i>
   14:<i>%% DefaultData: [tuple()]  </i>
   15:<i>%% Description: Require variables and set default values for the suite</i>
   16:<i>%%--------------------------------------------------------------------</i>
<a name=suite>   17:<b>suite</b></a>() -&gt; [{timetrap,{minutes,10}}].
   18:
   19:<i>%%--------------------------------------------------------------------</i>
<a name="20"></a>   20:<i>%% Function: init_per_suite(Config) -&gt; Config</i>
   21:<i>%% Config: [tuple()]</i>
   22:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   23:<i>%% Description: Initiation before the whole suite</i>
   24:<i>%%</i>
   25:<i>%% Note: This function is free to add any key/value pairs to the Config</i>
   26:<i>%% variable, but should NOT alter/remove any existing entries.</i>
   27:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_suite>   28:<b>init_per_suite</b></a>(Config) -&gt;
   29:    Config.
<a name="30"></a>   30:
   31:<i>%%--------------------------------------------------------------------</i>
   32:<i>%% Function: end_per_suite(Config) -&gt; _</i>
   33:<i>%% Config: [tuple()]</i>
   34:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   35:<i>%% Description: Cleanup after the whole suite</i>
   36:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_suite>   37:<b>end_per_suite</b></a>(_Config) -&gt;
   38:    ok.
   39:<i>%%--------------------------------------------------------------------</i>
<a name="40"></a>   40:<i>%% Function: all() -&gt; TestCases</i>
   41:<i>%% TestCases: [Case] </i>
   42:<i>%% Case: atom()</i>
   43:<i>%%   Name of a test case.</i>
   44:<i>%% Description: Returns a list of all test cases in this test suite</i>
   45:<i>%%--------------------------------------------------------------------      </i>
<a name=all>   46:<b>all</b></a>() -&gt; 
   47:    [correct_counter, current_value,error_counter_server, 
   48:	error_counter_port, error_counter_user, error_counter_password, 
   49:	error_counter_database, error_counter_driver, error_value_server, 
<a name="50"></a>   50:	error_value_port, error_value_user, error_value_password, 
   51:	error_value_database, error_value_counter, error_value_driver].
   52:	
   53:<i>%% Function: sequences() -&gt; Sequences </i>
   54:<i>%%Sequences = [{SeqName,Testcases}]</i>
   55:<i>%%SeqName = atom()</i>
   56:<i>%%Testcases = [atom()]</i>
   57:<i>%% Description: Returns a list of sequenced test cases in this test suite</i>
<a name=sequences>   58:<b>sequences</b></a>() -&gt;
   59:	[].
<a name="60"></a>   60:	
   61:	
<a name=correct_counter>   62:<b>correct_counter</b></a>(_Config) -&gt;	
   63:	P = oracle_jdbc_monitor:new(),
   64:	Params = [{connection_url, "192.168.0.61:1521/oracle10g"}, {user, "system"}, {driver, "oracle.jdbc.driver.OracleDriver"},			
   65:			{password, "systest"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
   66:	
   67:	Ret = P:getBrowseData(Params),
   68:	
   69:	{comment, Ret}.
<a name="70"></a>   70:	
<a name=current_value>   71:<b>current_value</b></a>(_Config) -&gt;
   72:	P = oracle_jdbc_monitor:new(),	
   73:	P:set_property(connection_url, "192.168.0.61:1521/oracle10g"),
   74:	P:set_property(user, "system"),
   75:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
   76:	P:set_property(password, "systest"),
   77:	P:set_property(connection_timeout, 60),
   78:	P:set_property(query_timeout, 60),
   79:	P:set_property(max_counter, 10),
<a name="80"></a>   80:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
   81:
   82:	P:update(),
   83:	
   84:	{ok, {state_string, Good}} = P:get_attribute(state_string),
   85:	
   86:	{comment, Good}.
   87:	
<a name=error_counter_server>   88:<b>error_counter_server</b></a>(_Config) -&gt;	
   89:	P = oracle_jdbc_monitor:new(),
<a name="90"></a>   90:	Params = [{connection_url, "192.168.0.60:1521/oracle10g"}, {user, "system"}, {driver, "oracle.jdbc.driver.OracleDriver"},			
   91:			{password, "systest"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
   92:	
   93:	Ret = P:getBrowseData(Params),
   94:	
   95:	{comment, Ret}.
   96:	
<a name=error_counter_port>   97:<b>error_counter_port</b></a>(_Config) -&gt;	
   98:	P = oracle_jdbc_monitor:new(),
   99:	Params = [{connection_url, "192.168.0.61:1520/oracle10g"}, {user, "system"}, {driver, "oracle.jdbc.driver.OracleDriver"},			
<a name="100"></a>  100:			{password, "systest"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
  101:	
  102:	Ret = P:getBrowseData(Params),
  103:	
  104:	{comment, Ret}.
  105:	
<a name=error_counter_user>  106:<b>error_counter_user</b></a>(_Config) -&gt;	
  107:	P = oracle_jdbc_monitor:new(),
  108:	Params = [{connection_url, "192.168.0.61:1521/oracle10g"}, {user, "syste"}, {driver, "oracle.jdbc.driver.OracleDriver"},			
  109:			{password, "systest"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
<a name="110"></a>  110:	
  111:	Ret = P:getBrowseData(Params),
  112:	
  113:	{comment, Ret}.
  114:	
<a name=error_counter_password>  115:<b>error_counter_password</b></a>(_Config) -&gt;	
  116:	P = oracle_jdbc_monitor:new(),
  117:	Params = [{connection_url, "192.168.0.61:1521/oracle10g"}, {user, "system"}, {driver, "oracle.jdbc.driver.OracleDriver"},			
  118:			{password, "systes"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
  119:	
<a name="120"></a>  120:	Ret = P:getBrowseData(Params),
  121:	
  122:	{comment, Ret}.
  123:	 
<a name=error_counter_database>  124:<b>error_counter_database</b></a>(_Config) -&gt;	
  125:	P = oracle_jdbc_monitor:new(),
  126:	Params = [{connection_url, "192.168.0.61:1521/oracle10"}, {user, "system"}, {driver, "oracle.jdbc.driver.OracleDriver"},			
  127:			{password, "systest"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
  128:	
  129:	Ret = P:getBrowseData(Params),
<a name="130"></a>  130:	
  131:	{comment, Ret}.
  132:	
<a name=error_counter_driver>  133:<b>error_counter_driver</b></a>(_Config) -&gt;	
  134:	P = oracle_jdbc_monitor:new(),
  135:	Params = [{connection_url, "192.168.0.61:1521/oracle10g"}, {user, "system"}, {driver, "oracle.jdbc.driver.OracleDrive"},			
  136:			{password, "systest"},	{connection_timeout, 60}, {query_timeout, 60}, {max_counter, 10}],
  137:	
  138:	Ret = P:getBrowseData(Params),
  139:	
<a name="140"></a>  140:	{comment, Ret}.
  141:		
<a name=error_value_server>  142:<b>error_value_server</b></a>(_Config) -&gt;	
  143:	P = oracle_jdbc_monitor:new(),	
  144:	P:set_property(connection_url, "192.168.0.60:1521/oracle10g"),
  145:	P:set_property(user, "system"),
  146:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
  147:	P:set_property(password, "systest"),
  148:	P:set_property(connection_timeout, 60),
  149:	P:set_property(query_timeout, 60),
<a name="150"></a>  150:	P:set_property(max_counter, 10),
  151:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
  152:
  153:	P:update(),
  154:	
  155:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  156:	
  157:	{comment, Good}.
  158:	
  159:	
<a name=error_value_port><a name="160"></a>  160:<b>error_value_port</b></a>(_Config) -&gt;	
  161:	P = oracle_jdbc_monitor:new(),	
  162:	P:set_property(connection_url, "192.168.0.61:1520/oracle10g"),
  163:	P:set_property(user, "system"),
  164:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
  165:	P:set_property(password, "systest"),
  166:	P:set_property(connection_timeout, 60),
  167:	P:set_property(query_timeout, 60),
  168:	P:set_property(max_counter, 10),
  169:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
<a name="170"></a>  170:
  171:	P:update(),
  172:	
  173:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  174:	
  175:	{comment, Good}.
  176:	
<a name=error_value_user>  177:<b>error_value_user</b></a>(_Config) -&gt;
  178:	P = oracle_jdbc_monitor:new(),	
  179:	P:set_property(connection_url, "192.168.0.61:1521/oracle10g"),
<a name="180"></a>  180:	P:set_property(user, "syste"),
  181:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
  182:	P:set_property(password, "systest"),
  183:	P:set_property(connection_timeout, 60),
  184:	P:set_property(query_timeout, 60),
  185:	P:set_property(max_counter, 10),
  186:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
  187:
  188:	P:update(),
  189:	
<a name="190"></a>  190:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  191:	
  192:	{comment, Good}.
  193:	
<a name=error_value_password>  194:<b>error_value_password</b></a>(_Config) -&gt;
  195:	P = oracle_jdbc_monitor:new(),	
  196:	P:set_property(connection_url, "192.168.0.61:1521/oracle10g"),
  197:	P:set_property(user, "system"),
  198:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
  199:	P:set_property(password, "systes"),
<a name="200"></a>  200:	P:set_property(connection_timeout, 60),
  201:	P:set_property(query_timeout, 60),
  202:	P:set_property(max_counter, 10),
  203:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
  204:
  205:	P:update(),
  206:	
  207:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  208:	
  209:	{comment, Good}.
<a name="210"></a>  210:	 
<a name=error_value_database>  211:<b>error_value_database</b></a>(_Config) -&gt;
  212:	P = oracle_jdbc_monitor:new(),	
  213:	P:set_property(connection_url, "192.168.0.61:1521/oracle10"),
  214:	P:set_property(user, "system"),
  215:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
  216:	P:set_property(password, "systest"),
  217:	P:set_property(connection_timeout, 60),
  218:	P:set_property(query_timeout, 60),
  219:	P:set_property(max_counter, 10),
<a name="220"></a>  220:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
  221:
  222:	P:update(),
  223:	
  224:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  225:	
  226:	{comment, Good}.
  227:	
<a name=error_value_counter>  228:<b>error_value_counter</b></a>(_Config) -&gt;
  229:	P = oracle_jdbc_monitor:new(),	
<a name="230"></a>  230:	P:set_property(connection_url, "192.168.0.61:1521/oracle10g"),
  231:	P:set_property(user, "system"),
  232:	P:set_property(driver, "oracle.jdbc.driver.OracleDriver"),
  233:	P:set_property(password, "systest"),
  234:	P:set_property(connection_timeout, 60),
  235:	P:set_property(query_timeout, 60),
  236:	P:set_property(max_counter, 10),
  237:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block write","V$SYSSTAT/DBWR undo block write"}]),
  238:
  239:	P:update(),
<a name="240"></a>  240:	
  241:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  242:	
  243:	{comment, Good}.
  244:		
<a name=error_value_driver>  245:<b>error_value_driver</b></a>(_Config) -&gt;	
  246:	P = oracle_jdbc_monitor:new(),	
  247:	P:set_property(connection_url, "192.168.0.61:1521/oracle10g"),
  248:	P:set_property(user, "system"),
  249:	P:set_property(driver, "oracle.jdbc.driver.OracleDrive"),
<a name="250"></a>  250:	P:set_property(password, "systest"),
  251:	P:set_property(connection_timeout, 60),
  252:	P:set_property(query_timeout, 60),
  253:	P:set_property(max_counter, 10),
  254:	P:set_property(browse,[{"V$SYSSTAT DBWR undo block writes","V$SYSSTAT/DBWR undo block writes"}]),
  255:
  256:	P:update(),
  257:	
  258:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  259:	
<a name="260"></a>  260:	{comment, Good}.
  261:		
  262:	
</pre>
<hr size=1><i>The transformation of this file (263 lines) took 0.00 seconds</i><br>
</body>
</html>
