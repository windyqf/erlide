<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head><title>e:/Server/test/huangjian/test/ipmi_SUITE.erl</title></head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
    1:-<b>module</b>(ipmi_SUITE).
    2:
    3:<i>%% Note: This directive should only be used in test suites.</i>
    4:-<b>compile</b>(export_all).
    5:
    6:-<b>include</b>("ct.hrl").
    7:
    8:<i>%%--------------------------------------------------------------------</i>
    9:<i>%% Test server callback functions</i>
<a name="10"></a>   10:<i>%%--------------------------------------------------------------------</i>
   11:
   12:<i>%%--------------------------------------------------------------------</i>
   13:<i>%% Function: suite() -&gt; DefaultData</i>
   14:<i>%% DefaultData: [tuple()]  </i>
   15:<i>%% Description: Require variables and set default values for the suite</i>
   16:<i>%%--------------------------------------------------------------------</i>
<a name=suite>   17:<b>suite</b></a>() -&gt; [{timetrap,{minutes,1}}].
   18:
   19:<i>%%--------------------------------------------------------------------</i>
<a name="20"></a>   20:<i>%% Function: init_per_suite(Config) -&gt; Config</i>
   21:<i>%% Config: [tuple()]</i>
   22:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   23:<i>%% Description: Initiation before the whole suite</i>
   24:<i>%%</i>
   25:<i>%% Note: This function is free to add any key/value pairs to the Config</i>
   26:<i>%% variable, but should NOT alter/remove any existing entries.</i>
   27:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_suite>   28:<b>init_per_suite</b></a>(Config) -&gt;
   29:    Config.
<a name="30"></a>   30:
   31:<i>%%--------------------------------------------------------------------</i>
   32:<i>%% Function: end_per_suite(Config) -&gt; _</i>
   33:<i>%% Config: [tuple()]</i>
   34:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   35:<i>%% Description: Cleanup after the whole suite</i>
   36:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_suite>   37:<b>end_per_suite</b></a>(_Config) -&gt;
   38:    ok.
   39:<i>%%--------------------------------------------------------------------</i>
<a name="40"></a>   40:<i>%% Function: all() -&gt; TestCases</i>
   41:<i>%% TestCases: [Case] </i>
   42:<i>%% Case: atom()</i>
   43:<i>%%   Name of a test case.</i>
   44:<i>%% Description: Returns a list of all test cases in this test suite</i>
   45:<i>%%--------------------------------------------------------------------      </i>
<a name=all>   46:<b>all</b></a>() -&gt; 
   47:    [correct_counter, correct_value, 
   48:	error_counter_server, error_counter_user,
   49:	error_counter_passwd, eorror_counter_port,
<a name="50"></a>   50:	error_value_server, error_value_user,
   51:	error_value_passwd, error_value_port].
   52:
   53:<i>%% Function: sequences() -&gt; Sequences </i>
   54:<i>%%Sequences = [{SeqName,Testcases}]</i>
   55:<i>%%SeqName = atom()</i>
   56:<i>%%Testcases = [atom()]</i>
   57:<i>%% Description: Returns a list of sequenced test cases in this test suite</i>
<a name=sequences>   58:<b>sequences</b></a>() -&gt;
   59:	[].
<a name="60"></a>   60:	
   61:<i>%%-------------------------------------------------------------------------</i>
   62:<i>%% Test cases starts here.</i>
   63:<i>%%-------------------------------------------------------------------------</i>
<a name=correct_counter>   64:<b>correct_counter</b></a>(_Config) -&gt;
   65:	P = ipmi_monitor:new(),
   66:	Params = [{timeout, 30}, {usr, "root"}, {pwd, "root"}, {port, 623}, {server, "192.168.3.5"}],
   67:	
   68:	Ret = P:getBrowseData(Params),
   69:	
<a name="70"></a>   70:	{comment, Ret}.
   71:	
<a name=correct_value>   72:<b>correct_value</b></a>(_Config) -&gt;
   73:	P = ipmi_monitor:new(),
   74:	P:set_property(timeout, 30),
   75:	P:set_property(usr, "root"),
   76:	P:set_property(pwd, "root"),
   77:	P:set_property(port, "623"),
   78:	P:set_property(server, "192.168.3.5"),
   79:	P:set_property(browse, [{"ChassisPowerOn", "Chassis/Power On"}, {"ChassisPowerOverload", "Chassis/Power Overload"}]),
<a name="80"></a>   80:	
   81:	P:update(),
   82:	
   83:	{ok, {state_string, Good}} = P:get_attribute(state_string),
   84:	
   85:	{comment, Good}.
   86:	
<a name=error_counter_server>   87:<b>error_counter_server</b></a>(_Config) -&gt; 
   88:	P = ipmi_monitor:new(),
   89:	Params = [{timeout, 30}, {usr, "root"}, {pwd, "root"}, {port, 623}, {server, "192.168.3.3"}],
<a name="90"></a>   90:	
   91:	Ret = P:getBrowseData(Params),
   92:	
   93:	{comment, Ret}.
   94: 	
<a name=error_counter_user>   95:<b>error_counter_user</b></a>(_Config) -&gt;
   96:	P = ipmi_monitor:new(),
   97:	Params = [{timeout, 30}, {usr, "roo"}, {pwd, "root"}, {port, 623}, {server, "192.168.3.5"}],
   98:	
   99:	Ret = P:getBrowseData(Params),
<a name="100"></a>  100:	
  101:	{comment, Ret}.
  102: 	
<a name=error_counter_passwd>  103:<b>error_counter_passwd</b></a>(_Config) -&gt;
  104:	P = ipmi_monitor:new(),
  105:	Params = [{timeout, 30}, {usr, "root"}, {pwd, "roo"}, {port, 623}, {server, "192.168.3.5"}],
  106:	
  107:	Ret = P:getBrowseData(Params),
  108:	
  109:	{comment, Ret}.
<a name="110"></a>  110: 	
<a name=eorror_counter_port>  111:<b>eorror_counter_port</b></a>(_Config) -&gt;	
  112:	P = ipmi_monitor:new(),
  113:	Params = [{timeout, 30}, {usr, "root"}, {pwd, "root"}, {port, 62}, {server, "192.168.3.5"}],
  114:	
  115:	Ret = P:getBrowseData(Params),
  116:	
  117:	{comment, Ret}.
  118:
<a name=error_value_server>  119:<b>error_value_server</b></a>(_Config) -&gt;
<a name="120"></a>  120:	P = ipmi_monitor:new(),
  121:	P:set_property(timeout, 30),
  122:	P:set_property(usr, "root"),
  123:	P:set_property(pwd, "root"),
  124:	P:set_property(port, "623"),
  125:	P:set_property(server, "192.168.3.3"),
  126:	P:set_property(browse, [{"ChassisPowerOn", "Chassis/Power On"}, {"ChassisPowerOverload", "Chassis/Power Overload"}]),
  127:	
  128:	P:update(),
  129:	
<a name="130"></a>  130:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  131:	
  132:	{comment, Good}.
  133:	
<a name=error_value_user>  134:<b>error_value_user</b></a>(_Config) -&gt;
  135:	P = ipmi_monitor:new(),
  136:	P:set_property(timeout, 30),
  137:	P:set_property(usr, "roo"),
  138:	P:set_property(pwd, "root"),
  139:	P:set_property(port, "623"),
<a name="140"></a>  140:	P:set_property(server, "192.168.3.5"),
  141:	P:set_property(browse, [{"ChassisPowerOn", "Chassis/Power On"}, {"ChassisPowerOverload", "Chassis/Power Overload"}]),
  142:	
  143:	P:update(),
  144:	
  145:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  146:	
  147:	{comment, Good}.
  148:	
<a name=error_value_passwd>  149:<b>error_value_passwd</b></a>(_Config) -&gt;
<a name="150"></a>  150:	P = ipmi_monitor:new(),
  151:	P:set_property(timeout, 30),
  152:	P:set_property(usr, "root"),
  153:	P:set_property(pwd, "roo"),
  154:	P:set_property(port, "623"),
  155:	P:set_property(server, "192.168.3.5"),
  156:	P:set_property(browse, [{"ChassisPowerOn", "Chassis/Power On"}, {"ChassisPowerOverload", "Chassis/Power Overload"}]),
  157:	
  158:	P:update(),
  159:	
<a name="160"></a>  160:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  161:	
  162:	{comment, Good}.
  163:	
<a name=error_value_port>  164:<b>error_value_port</b></a>(_Config) -&gt;
  165:	P = ipmi_monitor:new(),
  166:	P:set_property(timeout, 30),
  167:	P:set_property(usr, "root"),
  168:	P:set_property(pwd, "root"),
  169:	P:set_property(port, "62"),
<a name="170"></a>  170:	P:set_property(server, "192.168.3.5"),
  171:	P:set_property(browse, [{"ChassisPowerOn", "Chassis/Power On"}, {"ChassisPowerOverload", "Chassis/Power Overload"}]),
  172:	
  173:	P:update(),
  174:	
  175:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  176:	
  177:	{comment, Good}.
  178:	
</pre>
<hr size=1><i>The transformation of this file (179 lines) took 0.00 seconds</i><br>
</body>
</html>
