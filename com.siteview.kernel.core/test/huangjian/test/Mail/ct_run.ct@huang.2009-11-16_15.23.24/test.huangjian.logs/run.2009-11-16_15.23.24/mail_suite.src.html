<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head><title>e:/Server/test/huangjian/test/mail_SUITE.erl</title></head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
    1:-<b>module</b>(mail_SUITE).
    2:
    3:<i>%% Note: This directive should only be used in test suites.</i>
    4:-<b>compile</b>(export_all).
    5:
    6:-<b>include</b>("ct.hrl").
    7:
    8:<i>%%--------------------------------------------------------------------</i>
    9:<i>%% Test server callback functions</i>
<a name="10"></a>   10:<i>%%--------------------------------------------------------------------</i>
   11:
   12:<i>%%--------------------------------------------------------------------</i>
   13:<i>%% Function: suite() -&gt; DefaultData</i>
   14:<i>%% DefaultData: [tuple()]  </i>
   15:<i>%% Description: Require variables and set default values for the suite</i>
   16:<i>%%--------------------------------------------------------------------</i>
<a name=suite>   17:<b>suite</b></a>() -&gt; [{timetrap,{minutes,10}}].
   18:
   19:<i>%%--------------------------------------------------------------------</i>
<a name="20"></a>   20:<i>%% Function: init_per_suite(Config) -&gt; Config</i>
   21:<i>%% Config: [tuple()]</i>
   22:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   23:<i>%% Description: Initiation before the whole suite</i>
   24:<i>%%</i>
   25:<i>%% Note: This function is free to add any key/value pairs to the Config</i>
   26:<i>%% variable, but should NOT alter/remove any existing entries.</i>
   27:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_suite>   28:<b>init_per_suite</b></a>(Config) -&gt;
   29:    Config.
<a name="30"></a>   30:
   31:<i>%%--------------------------------------------------------------------</i>
   32:<i>%% Function: end_per_suite(Config) -&gt; _</i>
   33:<i>%% Config: [tuple()]</i>
   34:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   35:<i>%% Description: Cleanup after the whole suite</i>
   36:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_suite>   37:<b>end_per_suite</b></a>(_Config) -&gt;
   38:    ok.
   39:<i>%%--------------------------------------------------------------------</i>
<a name="40"></a>   40:<i>%% Function: all() -&gt; TestCases</i>
   41:<i>%% TestCases: [Case] </i>
   42:<i>%% Case: atom()</i>
   43:<i>%%   Name of a test case.</i>
   44:<i>%% Description: Returns a list of all test cases in this test suite</i>
   45:<i>%%--------------------------------------------------------------------      </i>
<a name=all>   46:<b>all</b></a>() -&gt; 
   47:    [{sequence, send}, {sequence, receive_pop3}, {sequence, receive_imap4}, {sequence, rec_send}].
   48:
   49:<i>%% Function: sequences() -&gt; Sequences </i>
<a name="50"></a>   50:<i>%%Sequences = [{SeqName,Testcases}]</i>
   51:<i>%%SeqName = atom()</i>
   52:<i>%%Testcases = [atom()]</i>
   53:<i>%% Description: Returns a list of sequenced test cases in this test suite</i>
<a name=sequences>   54:<b>sequences</b></a>() -&gt;
   55:	[{send, [correct_send_no_attach, correct_send_have_attach,
   56:			error_send_stmp_server, error_send_smtp_mail,
   57:			error_send_smtp_user, error_send_smtp_password,
   58:			error_send_smtp_attach]},
   59:	 {receive_pop3, [correct_pop3_no_match, correct_pop3_have_match,
<a name="60"></a>   60:			error_pop3_pop3_server, error_pop3_pop3_user, 
   61:			error_pop3_pop3_password, error_pop3_pop3_match]},
   62:	 {receive_imap4, [correct_imap4_no_match, correct_imap4_have_match,
   63:			error_imap4_imap4_server, error_imap4_imap4_user, 
   64:			error_imap4_imap4_password, error_imap4_imap4_match]},
   65:	 {rec_send, [correct_rec_send, error_send_correct_rec,
   66:			error_rec_correct_send]}].
   67:	
<a name=correct_send_no_attach>   68:<b>correct_send_no_attach</b></a>(_Config) -&gt;	
   69:	P = mail_monitor:new(),
<a name="70"></a>   70:	P:set_property(action, "send"),
   71:	P:set_property(smtpServer, "mail.dragonflow.com"),
   72:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
   73:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
   74:	P:set_property(receivingProtocol, "smtp"),
   75:	P:set_property(pop3Server, "mail.dragonflow.com"),
   76:	P:set_property(pop3Account, "jian.huang"),
   77:	P:set_property(pop3Password, "iamcoming"),
   78:	P:set_property(contentMatch, ""),
   79:	P:set_property(timeout, 30),
<a name="80"></a>   80:	P:set_property(checkEvery, ""),
   81:	P:set_property(attachment, ""),
   82:	P:set_property(smtpUser, "jian.huang"),
   83:	P:set_property(smtpPassword, "iamcoming"),
   84:	
   85:	P:update(),
   86:	
   87:	{ok, {state_string, Good}} = P:get_attribute(state_string),
   88:	
   89:	{comment, Good}.
<a name="90"></a>   90:	
<a name=correct_send_have_attach>   91:<b>correct_send_have_attach</b></a>(_Config) -&gt;	
   92:	P = mail_monitor:new(),
   93:	P:set_property(action, "send"),
   94:	P:set_property(smtpServer, "mail.dragonflow.com"),
   95:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
   96:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
   97:	P:set_property(receivingProtocol, "smtp"),
   98:	P:set_property(pop3Server, "mail.dragonflow.com"),
   99:	P:set_property(pop3Account, "jian.huang"),
<a name="100"></a>  100:	P:set_property(pop3Password, "iamcoming"),
  101:	P:set_property(contentMatch, ""),
  102:	P:set_property(timeout, 30),
  103:	P:set_property(checkEvery, ""),
  104:	P:set_property(attachment, "f:\\hj.ini"),
  105:	P:set_property(smtpUser, "jian.huang"),
  106:	P:set_property(smtpPassword, "iamcoming"),
  107:	
  108:	P:update(),
  109:	
<a name="110"></a>  110:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  111:	
  112:	{comment, Good}.
  113:		
<a name=error_send_stmp_server>  114:<b>error_send_stmp_server</b></a>(_Config) -&gt; 
  115:	P = mail_monitor:new(),
  116:	P:set_property(action, "send"),
  117:	P:set_property(smtpServer, "mail.dragoflow.com"),
  118:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  119:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
<a name="120"></a>  120:	P:set_property(receivingProtocol, "smtp"),
  121:	P:set_property(pop3Server, "mail.dragonflow.com"),
  122:	P:set_property(pop3Account, "jian.huang"),
  123:	P:set_property(pop3Password, "iamcoming"),
  124:	P:set_property(contentMatch, ""),
  125:	P:set_property(timeout, 30),
  126:	P:set_property(checkEvery, ""),
  127:	P:set_property(attachment, ""),
  128:	P:set_property(smtpUser, "jian.huang"),
  129:	P:set_property(smtpPassword, "iamcoming"),
<a name="130"></a>  130:	
  131:	P:update(),
  132:	
  133:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  134:	
  135:	{comment, Good}.
  136:
<a name=error_send_smtp_mail>  137:<b>error_send_smtp_mail</b></a>(_Config) -&gt;
  138:	P = mail_monitor:new(),
  139:	P:set_property(action, "send"),
<a name="140"></a>  140:	P:set_property(smtpServer, "mail.dragonflow.com"),
  141:	P:set_property(sendFromAddr, "jian.huan@dragonflow.com"),
  142:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  143:	P:set_property(receivingProtocol, "smtp"),
  144:	P:set_property(pop3Server, "mail.dragonflow.com"),
  145:	P:set_property(pop3Account, "jian.huang"),
  146:	P:set_property(pop3Password, "iamcoming"),
  147:	P:set_property(contentMatch, ""),
  148:	P:set_property(timeout, 30),
  149:	P:set_property(checkEvery, ""),
<a name="150"></a>  150:	P:set_property(attachment, ""),
  151:	P:set_property(smtpUser, "jian.huang"),
  152:	P:set_property(smtpPassword, "iamcoming"),
  153:	
  154:	P:update(),
  155:	
  156:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  157:	
  158:	{comment, Good}.
  159:
<a name=error_send_smtp_user><a name="160"></a>  160:<b>error_send_smtp_user</b></a>(_Config) -&gt;
  161:	P = mail_monitor:new(),
  162:	P:set_property(action, "send"),
  163:	P:set_property(smtpServer, "mail.dragonflow.com"),
  164:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  165:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  166:	P:set_property(receivingProtocol, "smtp"),
  167:	P:set_property(pop3Server, "mail.dragonflow.com"),
  168:	P:set_property(pop3Account, "jian.huang"),
  169:	P:set_property(pop3Password, "iamcoming"),
<a name="170"></a>  170:	P:set_property(contentMatch, ""),
  171:	P:set_property(timeout, 30),
  172:	P:set_property(checkEvery, ""),
  173:	P:set_property(attachment, ""),
  174:	P:set_property(smtpUser, "jian.huan"),
  175:	P:set_property(smtpPassword, "iamcoming"),
  176:	
  177:	P:update(),
  178:	
  179:	{ok, {state_string, Good}} = P:get_attribute(state_string),
<a name="180"></a>  180:	
  181:	{comment, Good}.
  182:
<a name=error_send_smtp_password>  183:<b>error_send_smtp_password</b></a>(_Config) -&gt;
  184:	P = mail_monitor:new(),
  185:	P:set_property(action, "send"),
  186:	P:set_property(smtpServer, "mail.dragonflow.com"),
  187:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  188:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  189:	P:set_property(receivingProtocol, "smtp"),
<a name="190"></a>  190:	P:set_property(pop3Server, "mail.dragonflow.com"),
  191:	P:set_property(pop3Account, "jian.huang"),
  192:	P:set_property(pop3Password, "iamcoming"),
  193:	P:set_property(contentMatch, ""),
  194:	P:set_property(timeout, 30),
  195:	P:set_property(checkEvery, ""),
  196:	P:set_property(attachment, ""),
  197:	P:set_property(smtpUser, "jian.huang"),
  198:	P:set_property(smtpPassword, "iamcomin"),
  199:	
<a name="200"></a>  200:	P:update(),
  201:	
  202:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  203:	
  204:	{comment, Good}.
  205:
<a name=error_send_smtp_attach>  206:<b>error_send_smtp_attach</b></a>(_Config) -&gt;
  207:	P = mail_monitor:new(),
  208:	P:set_property(action, "send"),
  209:	P:set_property(smtpServer, "mail.dragonflow.com"),
<a name="210"></a>  210:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  211:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  212:	P:set_property(receivingProtocol, "smtp"),
  213:	P:set_property(pop3Server, "mail.dragonflow.com"),
  214:	P:set_property(pop3Account, "jian.huang"),
  215:	P:set_property(pop3Password, "iamcoming"),
  216:	P:set_property(contentMatch, ""),
  217:	P:set_property(timeout, 30),
  218:	P:set_property(checkEvery, ""),
  219:	P:set_property(attachment, "c:\\1.txt"),
<a name="220"></a>  220:	P:set_property(smtpUser, "jian.huang"),
  221:	P:set_property(smtpPassword, "iamcoming"),
  222:	
  223:	P:update(),
  224:	
  225:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  226:	
  227:	{comment, Good}.
  228:
<a name=correct_pop3_no_match>  229:<b>correct_pop3_no_match</b></a>(_Config) -&gt;	
<a name="230"></a>  230:	P = mail_monitor:new(),
  231:	P:set_property(action, "receive"),
  232:	P:set_property(smtpServer, "mail.dragonflow.com"),
  233:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  234:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  235:	P:set_property(receivingProtocol, "pop3"),
  236:	P:set_property(pop3Server, "mail.dragonflow.com"),
  237:	P:set_property(pop3Account, "jian.huang"),
  238:	P:set_property(pop3Password, "iamcoming"),
  239:	P:set_property(contentMatch, ""),
<a name="240"></a>  240:	P:set_property(timeout, 30),
  241:	P:set_property(checkEvery, ""),
  242:	P:set_property(attachment, ""),
  243:	P:set_property(smtpUser, "jian.huang"),
  244:	P:set_property(smtpPassword, "iamcoming"),
  245:	
  246:	P:update(),
  247:	
  248:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  249:	
<a name="250"></a>  250:	{comment, Good}.
  251:	
<a name=correct_pop3_have_match>  252:<b>correct_pop3_have_match</b></a>(_Config) -&gt;	
  253:	P = mail_monitor:new(),
  254:	P:set_property(action, "receive"),
  255:	P:set_property(smtpServer, "mail.dragonflow.com"),
  256:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  257:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  258:	P:set_property(receivingProtocol, "pop3"),
  259:	P:set_property(pop3Server, "mail.dragonflow.com"),
<a name="260"></a>  260:	P:set_property(pop3Account, "jian.huang"),
  261:	P:set_property(pop3Password, "iamcoming"),
  262:	P:set_property(contentMatch, ""),
  263:	P:set_property(timeout, 30),
  264:	P:set_property(checkEvery, ""),
  265:	P:set_property(attachment, "HJ"),
  266:	P:set_property(smtpUser, "jian.huang"),
  267:	P:set_property(smtpPassword, "iamcoming"),
  268:	
  269:	P:update(),
<a name="270"></a>  270:	
  271:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  272:	
  273:	{comment, Good}.
  274:		
<a name=error_pop3_pop3_server>  275:<b>error_pop3_pop3_server</b></a>(_Config) -&gt;	 
  276:	P = mail_monitor:new(),
  277:	P:set_property(action, "receive"),
  278:	P:set_property(smtpServer, "mail.dragonflow.com"),
  279:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
<a name="280"></a>  280:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  281:	P:set_property(receivingProtocol, "pop3"),
  282:	P:set_property(pop3Server, "mail.dragonflo.com"),
  283:	P:set_property(pop3Account, "jian.huang"),
  284:	P:set_property(pop3Password, "iamcoming"),
  285:	P:set_property(contentMatch, ""),
  286:	P:set_property(timeout, 30),
  287:	P:set_property(checkEvery, ""),
  288:	P:set_property(attachment, ""),
  289:	P:set_property(smtpUser, "jian.huang"),
<a name="290"></a>  290:	P:set_property(smtpPassword, "iamcoming"),
  291:	
  292:	P:update(),
  293:	
  294:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  295:	
  296:	{comment, Good}.
  297:
  298:
<a name=error_pop3_pop3_user>  299:<b>error_pop3_pop3_user</b></a>(_Config) -&gt;	
<a name="300"></a>  300:	P = mail_monitor:new(),
  301:	P:set_property(action, "receive"),
  302:	P:set_property(smtpServer, "mail.dragonflow.com"),
  303:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  304:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  305:	P:set_property(receivingProtocol, "pop3"),
  306:	P:set_property(pop3Server, "mail.dragonflow.com"),
  307:	P:set_property(pop3Account, "jian.huan"),
  308:	P:set_property(pop3Password, "iamcoming"),
  309:	P:set_property(contentMatch, ""),
<a name="310"></a>  310:	P:set_property(timeout, 30),
  311:	P:set_property(checkEvery, ""),
  312:	P:set_property(attachment, ""),
  313:	P:set_property(smtpUser, "jian.huang"),
  314:	P:set_property(smtpPassword, "iamcoming"),
  315:	
  316:	P:update(),
  317:	
  318:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  319:	
<a name="320"></a>  320:	{comment, Good}.
  321:
<a name=error_pop3_pop3_password>  322:<b>error_pop3_pop3_password</b></a>(_Config) -&gt;
  323:	P = mail_monitor:new(),
  324:	P:set_property(action, "receive"),
  325:	P:set_property(smtpServer, "mail.dragonflow.com"),
  326:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  327:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  328:	P:set_property(receivingProtocol, "pop3"),
  329:	P:set_property(pop3Server, "mail.dragonflow.com"),
<a name="330"></a>  330:	P:set_property(pop3Account, "jian.huang"),
  331:	P:set_property(pop3Password, "iamcomin"),
  332:	P:set_property(contentMatch, ""),
  333:	P:set_property(timeout, 30),
  334:	P:set_property(checkEvery, ""),
  335:	P:set_property(attachment, ""),
  336:	P:set_property(smtpUser, "jian.huang"),
  337:	P:set_property(smtpPassword, "iamcoming"),
  338:	
  339:	P:update(),
<a name="340"></a>  340:	
  341:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  342:	
  343:	{comment, Good}.
  344:	
<a name=error_pop3_pop3_match>  345:<b>error_pop3_pop3_match</b></a>(_Config) -&gt;	
  346:	P = mail_monitor:new(),
  347:	P:set_property(action, "receive"),
  348:	P:set_property(smtpServer, "mail.dragonflow.com"),
  349:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
<a name="350"></a>  350:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  351:	P:set_property(receivingProtocol, "pop3"),
  352:	P:set_property(pop3Server, "mail.dragonflow.com"),
  353:	P:set_property(pop3Account, "jian.huang"),
  354:	P:set_property(pop3Password, "iamcoming"),
  355:	P:set_property(contentMatch, "LH"),
  356:	P:set_property(timeout, 30),
  357:	P:set_property(checkEvery, ""),
  358:	P:set_property(attachment, ""),
  359:	P:set_property(smtpUser, "jian.huang"),
<a name="360"></a>  360:	P:set_property(smtpPassword, "iamcoming"),
  361:	
  362:	P:update(),
  363:	
  364:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  365:	
  366:	{comment, Good}.
  367:
<a name=correct_imap4_no_match>  368:<b>correct_imap4_no_match</b></a>(_Config) -&gt;	
  369:	P = mail_monitor:new(),
<a name="370"></a>  370:	P:set_property(action, "receive"),
  371:	P:set_property(smtpServer, "mail.dragonflow.com"),
  372:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  373:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  374:	P:set_property(receivingProtocol, "imap4"),
  375:	P:set_property(pop3Server, "mail.dragonflow.com"),
  376:	P:set_property(pop3Account, "jian.huang"),
  377:	P:set_property(pop3Password, "iamcoming"),
  378:	P:set_property(contentMatch, ""),
  379:	P:set_property(timeout, 30),
<a name="380"></a>  380:	P:set_property(checkEvery, ""),
  381:	P:set_property(attachment, ""),
  382:	P:set_property(smtpUser, "jian.huang"),
  383:	P:set_property(smtpPassword, "iamcoming"),
  384:	
  385:	P:update(),
  386:	
  387:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  388:	
  389:	{comment, Good}.
<a name="390"></a>  390:	
<a name=correct_imap4_have_match>  391:<b>correct_imap4_have_match</b></a>(_Config) -&gt;	
  392:	P = mail_monitor:new(),
  393:	P:set_property(action, "receive"),
  394:	P:set_property(smtpServer, "mail.dragonflow.com"),
  395:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  396:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  397:	P:set_property(receivingProtocol, "imap4"),
  398:	P:set_property(pop3Server, "mail.dragonflow.com"),
  399:	P:set_property(pop3Account, "jian.huang"),
<a name="400"></a>  400:	P:set_property(pop3Password, "iamcoming"),
  401:	P:set_property(contentMatch, ""),
  402:	P:set_property(timeout, 30),
  403:	P:set_property(checkEvery, ""),
  404:	P:set_property(attachment, "HJ"),
  405:	P:set_property(smtpUser, "jian.huang"),
  406:	P:set_property(smtpPassword, "iamcoming"),
  407:	
  408:	P:update(),
  409:	
<a name="410"></a>  410:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  411:	
  412:	{comment, Good}.
  413:		
<a name=error_imap4_imap4_server>  414:<b>error_imap4_imap4_server</b></a>(_Config) -&gt;	 
  415:	P = mail_monitor:new(),
  416:	P:set_property(action, "receive"),
  417:	P:set_property(smtpServer, "mail.dragonflow.com"),
  418:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  419:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
<a name="420"></a>  420:	P:set_property(receivingProtocol, "imap4"),
  421:	P:set_property(pop3Server, "mail.dragonflo.com"),
  422:	P:set_property(pop3Account, "jian.huang"),
  423:	P:set_property(pop3Password, "iamcoming"),
  424:	P:set_property(contentMatch, ""),
  425:	P:set_property(timeout, 30),
  426:	P:set_property(checkEvery, ""),
  427:	P:set_property(attachment, ""),
  428:	P:set_property(smtpUser, "jian.huang"),
  429:	P:set_property(smtpPassword, "iamcoming"),
<a name="430"></a>  430:	
  431:	P:update(),
  432:	
  433:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  434:	
  435:	{comment, Good}.
  436:
  437:
<a name=error_imap4_imap4_user>  438:<b>error_imap4_imap4_user</b></a>(_Config) -&gt;	
  439:	P = mail_monitor:new(),
<a name="440"></a>  440:	P:set_property(action, "receive"),
  441:	P:set_property(smtpServer, "mail.dragonflow.com"),
  442:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  443:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  444:	P:set_property(receivingProtocol, "imap4"),
  445:	P:set_property(pop3Server, "mail.dragonflow.com"),
  446:	P:set_property(pop3Account, "jian.huan"),
  447:	P:set_property(pop3Password, "iamcoming"),
  448:	P:set_property(contentMatch, ""),
  449:	P:set_property(timeout, 30),
<a name="450"></a>  450:	P:set_property(checkEvery, ""),
  451:	P:set_property(attachment, ""),
  452:	P:set_property(smtpUser, "jian.huang"),
  453:	P:set_property(smtpPassword, "iamcoming"),
  454:	
  455:	P:update(),
  456:	
  457:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  458:	
  459:	{comment, Good}.
<a name="460"></a>  460:
<a name=error_imap4_imap4_password>  461:<b>error_imap4_imap4_password</b></a>(_Config) -&gt;
  462:	P = mail_monitor:new(),
  463:	P:set_property(action, "receive"),
  464:	P:set_property(smtpServer, "mail.dragonflow.com"),
  465:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  466:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  467:	P:set_property(receivingProtocol, "imap4"),
  468:	P:set_property(pop3Server, "mail.dragonflow.com"),
  469:	P:set_property(pop3Account, "jian.huang"),
<a name="470"></a>  470:	P:set_property(pop3Password, "iamcomin"),
  471:	P:set_property(contentMatch, ""),
  472:	P:set_property(timeout, 30),
  473:	P:set_property(checkEvery, ""),
  474:	P:set_property(attachment, ""),
  475:	P:set_property(smtpUser, "jian.huang"),
  476:	P:set_property(smtpPassword, "iamcoming"),
  477:	
  478:	P:update(),
  479:	
<a name="480"></a>  480:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  481:	
  482:	{comment, Good}.
  483:	
<a name=error_imap4_imap4_match>  484:<b>error_imap4_imap4_match</b></a>(_Config) -&gt;	
  485:	P = mail_monitor:new(),
  486:	P:set_property(action, "receive"),
  487:	P:set_property(smtpServer, "mail.dragonflow.com"),
  488:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  489:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
<a name="490"></a>  490:	P:set_property(receivingProtocol, "imap4"),
  491:	P:set_property(pop3Server, "mail.dragonflow.com"),
  492:	P:set_property(pop3Account, "jian.huang"),
  493:	P:set_property(pop3Password, "iamcoming"),
  494:	P:set_property(contentMatch, "LH"),
  495:	P:set_property(timeout, 30),
  496:	P:set_property(checkEvery, ""),
  497:	P:set_property(attachment, ""),
  498:	P:set_property(smtpUser, "jian.huang"),
  499:	P:set_property(smtpPassword, "iamcoming"),
<a name="500"></a>  500:	
  501:	P:update(),
  502:	
  503:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  504:	
  505:	{comment, Good}.
  506:			
<a name=correct_rec_send>  507:<b>correct_rec_send</b></a>(_Config) -&gt;	
  508:	P = mail_monitor:new(),
  509:	P:set_property(action, "sendrecv"),
<a name="510"></a>  510:	P:set_property(smtpServer, "mail.dragonflow.com"),
  511:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  512:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  513:	P:set_property(receivingProtocol, "imap4"),
  514:	P:set_property(pop3Server, "mail.dragonflow.com"),
  515:	P:set_property(pop3Account, "jian.huang"),
  516:	P:set_property(pop3Password, "iamcoming"),
  517:	P:set_property(contentMatch, ""),
  518:	P:set_property(timeout, 30),
  519:	P:set_property(checkEvery, ""),
<a name="520"></a>  520:	P:set_property(attachment, ""),
  521:	P:set_property(smtpUser, "jian.huang"),
  522:	P:set_property(smtpPassword, "iamcoming"),
  523:	
  524:	P:update(),
  525:	
  526:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  527:	
  528:	{comment, Good}.
  529:
<a name=error_send_correct_rec><a name="530"></a>  530:<b>error_send_correct_rec</b></a>(_Config) -&gt;	
  531:	P = mail_monitor:new(),
  532:	P:set_property(action, "sendrecv"),
  533:	P:set_property(smtpServer, "mail.dragonflow.com"),
  534:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  535:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  536:	P:set_property(receivingProtocol, "imap4"),
  537:	P:set_property(pop3Server, "mail.dragonflow.com"),
  538:	P:set_property(pop3Account, "jian.huang"),
  539:	P:set_property(pop3Password, "iamcoming"),
<a name="540"></a>  540:	P:set_property(contentMatch, ""),
  541:	P:set_property(timeout, 30),
  542:	P:set_property(checkEvery, ""),
  543:	P:set_property(attachment, ""),
  544:	P:set_property(smtpUser, "jian.huan"),
  545:	P:set_property(smtpPassword, "iamcoming"),
  546:	
  547:	P:update(),
  548:	
  549:	{ok, {state_string, Good}} = P:get_attribute(state_string),
<a name="550"></a>  550:	
  551:	{comment, Good}.
  552:	
<a name=error_rec_correct_send>  553:<b>error_rec_correct_send</b></a>(_Config) -&gt;	
  554:	P = mail_monitor:new(),
  555:	P:set_property(action, "sendrecv"),
  556:	P:set_property(smtpServer, "mail.dragonflow.com"),
  557:	P:set_property(sendFromAddr, "jian.huang@dragonflow.com"),
  558:	P:set_property(sendToAddr, "lei.lin@dragonflow.com"),
  559:	P:set_property(receivingProtocol, "imap4"),
<a name="560"></a>  560:	P:set_property(pop3Server, "mail.dragonflo.com"),
  561:	P:set_property(pop3Account, "jian.huang"),
  562:	P:set_property(pop3Password, "iamcoming"),
  563:	P:set_property(contentMatch, ""),
  564:	P:set_property(timeout, 30),
  565:	P:set_property(checkEvery, ""),
  566:	P:set_property(attachment, ""),
  567:	P:set_property(smtpUser, "jian.huang"),
  568:	P:set_property(smtpPassword, "iamcoming"),
  569:	
<a name="570"></a>  570:	P:update(),
  571:	
  572:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  573:	
  574:	{comment, Good}.
  575:	
  576:			
</pre>
<hr size=1><i>The transformation of this file (577 lines) took 0.02 seconds</i><br>
</body>
</html>
