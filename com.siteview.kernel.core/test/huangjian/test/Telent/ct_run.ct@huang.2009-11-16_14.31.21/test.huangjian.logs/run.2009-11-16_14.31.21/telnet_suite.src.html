<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head><title>e:/Server/test/huangjian/test/telnet_SUITE.erl</title></head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
    1:-<b>module</b>(telnet_SUITE).
    2:
    3:<i>%% Note: This directive should only be used in test suites.</i>
    4:-<b>compile</b>(export_all).
    5:
    6:-<b>include</b>("ct.hrl").
    7:
    8:<i>%%--------------------------------------------------------------------</i>
    9:<i>%% Test server callback functions</i>
<a name="10"></a>   10:<i>%%--------------------------------------------------------------------</i>
   11:
   12:<i>%%--------------------------------------------------------------------</i>
   13:<i>%% Function: suite() -&gt; DefaultData</i>
   14:<i>%% DefaultData: [tuple()]  </i>
   15:<i>%% Description: Require variables and set default values for the suite</i>
   16:<i>%%--------------------------------------------------------------------</i>
<a name=suite>   17:<b>suite</b></a>() -&gt; [{timetrap,{minutes,1}}].
   18:
   19:<i>%%--------------------------------------------------------------------</i>
<a name="20"></a>   20:<i>%% Function: init_per_suite(Config) -&gt; Config</i>
   21:<i>%% Config: [tuple()]</i>
   22:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   23:<i>%% Description: Initiation before the whole suite</i>
   24:<i>%%</i>
   25:<i>%% Note: This function is free to add any key/value pairs to the Config</i>
   26:<i>%% variable, but should NOT alter/remove any existing entries.</i>
   27:<i>%%--------------------------------------------------------------------</i>
<a name=init_per_suite>   28:<b>init_per_suite</b></a>(Config) -&gt;
   29:    Config.
<a name="30"></a>   30:
   31:<i>%%--------------------------------------------------------------------</i>
   32:<i>%% Function: end_per_suite(Config) -&gt; _</i>
   33:<i>%% Config: [tuple()]</i>
   34:<i>%%   A list of key/value pairs, holding the test case configuration.</i>
   35:<i>%% Description: Cleanup after the whole suite</i>
   36:<i>%%--------------------------------------------------------------------</i>
<a name=end_per_suite>   37:<b>end_per_suite</b></a>(_Config) -&gt;
   38:    ok.
   39:<i>%%--------------------------------------------------------------------</i>
<a name="40"></a>   40:<i>%% Function: all() -&gt; TestCases</i>
   41:<i>%% TestCases: [Case] </i>
   42:<i>%% Case: atom()</i>
   43:<i>%%   Name of a test case.</i>
   44:<i>%% Description: Returns a list of all test cases in this test suite</i>
   45:<i>%%--------------------------------------------------------------------      </i>
<a name=all>   46:<b>all</b></a>() -&gt; 
   47:    [correct, correct_no_match, correct_no_com, error_host,
   48:	error_user, error_pass, error_login, error_password, error_prompt].
   49:
<a name="50"></a>   50:<i>%% Function: sequences() -&gt; Sequences </i>
   51:<i>%%Sequences = [{SeqName,Testcases}]</i>
   52:<i>%%SeqName = atom()</i>
   53:<i>%%Testcases = [atom()]</i>
   54:<i>%% Description: Returns a list of sequenced test cases in this test suite</i>
<a name=sequences>   55:<b>sequences</b></a>() -&gt;
   56:	[].
   57:	
   58:<i>%%-------------------------------------------------------------------------</i>
   59:<i>%% Test cases starts here.</i>
<a name="60"></a>   60:<i>%%-------------------------------------------------------------------------</i>
   61:
<a name=correct>   62:<b>correct</b></a>(_Config) -&gt;
   63:	P = telnet_monitor:new(),
   64:	P:set_property(timeout, 10),
   65:	P:set_property(username, "tel"),
   66:	P:set_property(password, "cisco"),
   67:	P:set_property(matchcontent, "tel"),
   68:	P:set_property(loginprom, "ogin:"),
   69:	P:set_property(passwordprom, "assword:"),
<a name="70"></a>   70:	P:set_property(prompt, "$"),
   71:	P:set_property(command, "pwd"),
   72:	P:set_property(telnetserver, "192.168.0.225"),
   73:	
   74:	P:update(),
   75:	
   76:	{ok, {state_string, Good}} = P:get_attribute(state_string),
   77:	
   78:	{comment, Good}.
   79:	
<a name=correct_no_match><a name="80"></a>   80:<b>correct_no_match</b></a>(_Config) -&gt;
   81:	P = telnet_monitor:new(),
   82:	P:set_property(timeout, 10),
   83:	P:set_property(username, "tel"),
   84:	P:set_property(password, "cisco"),
   85:	P:set_property(matchcontent, ""),
   86:	P:set_property(loginprom, "ogin:"),
   87:	P:set_property(passwordprom, "assword:"),
   88:	P:set_property(prompt, "$"),
   89:	P:set_property(command, "pwd"),
<a name="90"></a>   90:	P:set_property(telnetserver, "192.168.0.225"),
   91:	
   92:	P:update(),
   93:	
   94:	{ok, {state_string, Good}} = P:get_attribute(state_string),
   95:	
   96:	{comment, Good}.
   97:		
<a name=correct_no_com>   98:<b>correct_no_com</b></a>(_Config) -&gt;
   99:	P = telnet_monitor:new(),
<a name="100"></a>  100:	P:set_property(timeout, 10),
  101:	P:set_property(username, "tel"),
  102:	P:set_property(password, "cisco"),
  103:	P:set_property(matchcontent, ""),
  104:	P:set_property(loginprom, "ogin:"),
  105:	P:set_property(passwordprom, "assword:"),
  106:	P:set_property(prompt, "$"),
  107:	P:set_property(command, ""),
  108:	P:set_property(telnetserver, "192.168.0.225"),
  109:	
<a name="110"></a>  110:	P:update(),
  111:	
  112:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  113:	
  114:	{comment, Good}.
  115:
<a name=error_host>  116:<b>error_host</b></a>(_Config) -&gt;
  117:	P = telnet_monitor:new(),
  118:	P:set_property(timeout, 10),
  119:	P:set_property(username, "tel"),
<a name="120"></a>  120:	P:set_property(password, "cisco"),
  121:	P:set_property(matchcontent, "tel"),
  122:	P:set_property(loginprom, "ogin:"),
  123:	P:set_property(passwordprom, "assword:"),
  124:	P:set_property(prompt, "$"),
  125:	P:set_property(command, "pwd"),
  126:	P:set_property(telnetserver, "192.168.0.221"),
  127:	
  128:	P:update(),
  129:	
<a name="130"></a>  130:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  131:	
  132:	{comment, Good}.
  133:	
<a name=error_user>  134:<b>error_user</b></a>(_Config) -&gt;
  135:	P = telnet_monitor:new(),
  136:	P:set_property(timeout, 10),
  137:	P:set_property(username, "tt"),
  138:	P:set_property(password, "cisco"),
  139:	P:set_property(matchcontent, "tel"),
<a name="140"></a>  140:	P:set_property(loginprom, "ogin:"),
  141:	P:set_property(passwordprom, "assword:"),
  142:	P:set_property(prompt, "$"),
  143:	P:set_property(command, "pwd"),
  144:	P:set_property(telnetserver, "192.168.0.225"),
  145:	
  146:	P:update(),
  147:	
  148:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  149:	
<a name="150"></a>  150:	{comment, Good}.
  151:
<a name=error_pass>  152:<b>error_pass</b></a>(_Config) -&gt;
  153:	P = telnet_monitor:new(),
  154:	P:set_property(timeout, 10),
  155:	P:set_property(username, "tel"),
  156:	P:set_property(password, "cisc"),
  157:	P:set_property(matchcontent, "tel"),
  158:	P:set_property(loginprom, "ogin:"),
  159:	P:set_property(passwordprom, "assword:"),
<a name="160"></a>  160:	P:set_property(prompt, "$"),
  161:	P:set_property(command, "pwd"),
  162:	P:set_property(telnetserver, "192.168.0.225"),
  163:	
  164:	P:update(),
  165:	
  166:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  167:	
  168:	{comment, Good}.
  169:	
<a name=error_login><a name="170"></a>  170:<b>error_login</b></a>(_Config) -&gt;
  171:	P = telnet_monitor:new(),
  172:	P:set_property(timeout, 10),
  173:	P:set_property(username, "tel"),
  174:	P:set_property(password, "cisco"),
  175:	P:set_property(matchcontent, "tel"),
  176:	P:set_property(loginprom, "ogi:"),
  177:	P:set_property(passwordprom, "assword:"),
  178:	P:set_property(prompt, "$"),
  179:	P:set_property(command, "pwd"),
<a name="180"></a>  180:	P:set_property(telnetserver, "192.168.0.225"),
  181:	
  182:	P:update(),
  183:	
  184:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  185:	
  186:	{comment, Good}.
  187:		
<a name=error_password>  188:<b>error_password</b></a>(_Config) -&gt;
  189:	P = telnet_monitor:new(),
<a name="190"></a>  190:	P:set_property(timeout, 10),
  191:	P:set_property(username, "tel"),
  192:	P:set_property(password, "cisco"),
  193:	P:set_property(matchcontent, "tel"),
  194:	P:set_property(loginprom, "ogin:"),
  195:	P:set_property(passwordprom, "asswor:"),
  196:	P:set_property(prompt, "$"),
  197:	P:set_property(command, "pwd"),
  198:	P:set_property(telnetserver, "192.168.0.225"),
  199:	
<a name="200"></a>  200:	P:update(),
  201:	
  202:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  203:	
  204:	{comment, Good}.
  205:
<a name=error_prompt>  206:<b>error_prompt</b></a>(_Config) -&gt;
  207:	P = telnet_monitor:new(),
  208:	P:set_property(timeout, 10),
  209:	P:set_property(username, "tel"),
<a name="210"></a>  210:	P:set_property(password, "cisco"),
  211:	P:set_property(matchcontent, "tel"),
  212:	P:set_property(loginprom, "ogin:"),
  213:	P:set_property(passwordprom, "assword:"),
  214:	P:set_property(prompt, "#"),
  215:	P:set_property(command, "pwd"),
  216:	P:set_property(telnetserver, "192.168.0.225"),
  217:	
  218:	P:update(),
  219:	
<a name="220"></a>  220:	{ok, {state_string, Good}} = P:get_attribute(state_string),
  221:	
  222:	{comment, Good}.
  223:	
</pre>
<hr size=1><i>The transformation of this file (224 lines) took 0.00 seconds</i><br>
</body>
</html>
